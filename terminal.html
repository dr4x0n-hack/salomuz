<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>OSINT Terminal</title>
  <style>
    body{
      background:#000;
      color:#00ff66;
      font-family: monospace;
      padding:20px;
    }
    #terminal{
      width:100%;
      height:500px;
      background:#0a0a0a;
      border:1px solid #222;
      padding:10px;
      overflow-y:auto;
    }
    #input{
      width:100%;
      background:#000;
      color:#00ff66;
      border:none;
      outline:none;
      font-size:16px;
    }
  </style>
</head>
<body>
<div id="terminal"></div>
<input id="input" placeholder="Enter command..." autofocus />

<script>
let term = document.getElementById("terminal");
let input = document.getElementById("input");

function print(text){
    term.innerHTML += text + "<br>";
    term.scrollTop = term.scrollHeight;
}
if cmd == "help":
    return """
=== OSINT TERMINAL HELP ===

You can run the following safe OSINT commands:

1) EXIF (rasm metama'lumotlari)
   Format:
      exif <file>
   Misol:
      exif photo.jpg
   Natija:
      Kamera modeli, GPS ma'lumotlari, sana va boshqa EXIF taglari.

2) REVERSE IMAGE (mock natija)
   Format:
      reverse-image <file>
   Misol:
      reverse-image sample.png
   Izoh:
      Bu haqiqiy API talab qiladi. Hozircha test natija chiqadi.

3) WHOIS (domen egasi haqida ochiq ma'lumot)
   Format:
      whois <domain>
   Misol:
      whois google.com
   Natija:
      Admin kontakti, server, ro'yxatdan o'tgan sana va hk.

4) GEO-LOOKUP (koordinata boâ€˜yicha joyni topish)
   Format:
      geo-lookup <lat,lon>
   Misol:
      geo-lookup 41.3111,69.2797
   Natija:
      Shahar, davlat, hudud nomi va boshqalar.

5) CLEAR (terminalni tozalash)
   Format:
      clear

6) HELP (buyruqlar ro'yxati)
   Format:
      help

=======================================
Misollar:

exif img1.jpg
reverse-image school.png
whois example.com
geo-lookup 51.5072,-0.1276

Agar xato buysa:
'Unknown command' chiqadi.
"""


input.addEventListener("keydown", async (e)=>{
    if(e.key === "Enter"){
        let cmd = input.value.trim();
        print("<span>>>> "+cmd+"</span>");
        input.value = "";

        let res = await fetch("/run", {
            method:"POST",
            headers:{ "Content-Type":"application/json" },
            body: JSON.stringify({command:cmd})
        });

        let out = await res.text();
        print(out);
    }
});
</script>
</body>
</html>
